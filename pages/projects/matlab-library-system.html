<html>
<head>
  <title>MATLAB Library System</title>
  <meta name="subtitle" content="TSPR0001" />
  <meta name="tags" content="log" />
  <meta name="date" content="2015-08-31" />
  <meta name="modified" content="" />
  <meta name="authors" content="Tibor Simon" />
  <meta name="slug" content="projects/TSPR0001" />
  <meta name="manual" content="enabled" />
  <meta name="comments" content="enabled" />
</head>
<body>
    <div class="container main-container">
        <div class="row">
            <div class="col-xs-12">
                <div class="row">
                    <div class="col-xs-12">
                        <div class="tspr-individual">TSPR0001</div>
                    </div>
                    <div class="col-xs-12 project-corresponding-articles">
                        <h2 style="margin-bottom: 0">Corresponding articles</h2>
                        <hr style="margin-top: 6px" />
                        <div class="row masonry-container">
                        </div>
                        <hr class="hidden-xs hidden-sm"/>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-3">
                        <div class="project-toc" style="color: #555;">
                            <h3>Contents</h3>
                        </div>
                    </div>
                    <div class="col-xs-12 col-sm-12 col-md-9">
                        <div class="project-documentation">
<!-- =======================================================================================================================
   D O C   S T A R T
======================================================================================================================== -->  
        <h1>Documentation v2.3.0</h1>

<p><strong>MATLAB Library System</strong> is a lightweight modular packaging method addressing the inconvenient third party library handling in MATLAB<sup id="fnref:1"><a href="#fn:1" rel="footnote">1</a></sup>. It provides a <em>one-command</em> way to <em>install/uninstall</em> the third party functionality into your MATLAB workspace <em>permanently</em>. It also defines a standard way for the library authors to add credit and versioning information and a quick start guide that can be used as a quick installation tester method.</p>

<h2>MLS packages</h2>

<p>A library distributed with the <strong>MATLAB Library System</strong> is wrapped around a top level folder. This folder wrapper is the <strong>MLS package</strong>. It contains the necessary <em>install/uninstall scripts</em> and the <em>librarydata.txt file</em>. The actual library containing the third party functionality is separated this way from the package handler logic.</p>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="file_tree.txt" data-gist-hide-line-numbers="true" data-gist-hide-footer="true" data-gist-show-spinner="true"></div>

<p>The installer script will add the <em>library</em> folder and all of it's subfolders into your MATLAB path permanently. The top level package folder (<em>my_mls_package</em>) won't be added, so your MATLAB workspace won't be polluted with the install and uninstall scipts. The <strong>library</strong> name for the folder inside the package is <strong>mandatory</strong>! Do not name it another way.</p>

<h2>Installing an MLS package</h2>

<p>After downloading and unzipping an MLS package the installation is straightforward.</p>

<ol>
<li>Navigate into the top level MLS package folder in MATLAB</li>
<li>Run the <code>install</code> command</li>
<li>Done.</li>
</ol>


<p>All the functions defined in the <em>library</em> folder and it's subfolders will be available in your MATLAB workspace. You can run the <code>install</code> command by typing in to the console, or by opening up the <code>install.m</code> script and running it manually.</p>

<h2>Unistalling an MLS package</h2>

<p>The method is similar to the installation steps.</p>

<ol>
<li>Navigate into the top level MLS package folder in MATLAB</li>
<li>Run the <code>uninstall</code> command</li>
<li>Done.</li>
</ol>


<p>All the functions defined in the library folder and it's subfolders will be removed from your MATLAB workspace.</p>

<h2>Best practice</h2>

<p>You can have a <strong>folder</strong> for your <strong>MLS packages</strong> somewhere in your machine where you can keep all of your third party modules and your own packages as well. You can create a <strong>install/uninstall all</strong> script that will install/uninstall all of your modules at once. In this way you can install all of your packages to your actual MATLAB workspace if you didn't do that already, or you are on a new machine.</p>

<p>Check out the <a href="https://github.com/tiborsimon/matlab-library-system/releases/latest" target="_blank">latest release page</a>. It will contain these scripts too. Make sure you only have MLS packages inside the folder you run the scripts, otherwise it wont work.</p>

<p>You can write your own scripts, that has a functionality something like this:</p>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="install_all_example.m" data-gist-show-spinner="true"></div>

<p>This code scans through the current directory, and calls the <em>install</em> command inside every folder it find in the first level.</p>

<h2>Printout examples</h2>

<p>By running the <code>install</code> script, an MLS package will print out the following.</p>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="install_printout.txt" data-gist-show-spinner="true"></div>

<p>By running the <code>uninstall</code> script, an MLS package will print out the following.</p>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="uninstall_printout.txt" data-gist-show-spinner="true"></div>

<h2>Creating your own MLS package</h2>

<p>If you have written a library for MATLAB, and you want to ship it to others, you might want to create your own <em>MLS package</em>. This way your customers can install and manage your library with less effort.</p>

<h4>1. Download the latest MLS package template</h4>

<p>You can download the latest <strong>MLS package template</strong> added to the <a href="https://github.com/tiborsimon/matlab-library-system/releases/latest" target="_blank">latest MATLAB Library System release</a>. After unpacking the zip package, you can rename the top MLS package folder from  <em>my_mls_package</em> to anything yout want.</p>

<p>You can also download the template with git by running the following command: <code>git clone git@github.com:tiborsimon/matlab-library-system.git my_mls_package</code> where <code>my_mls_package</code> will be the name of your top level MLS package folder.</p>

<h4>2. Edit the <em>librarydata.txt</em> file</h4>

<p>The <em>librarydata.txt</em> file is a simple text file containing the library related credit, verioning and demo informations line by line in a strict order. You have to follow the data orders as defined in the template:</p>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="librarydata.txt" data-gist-show-spinner="true"></div>

<div class="gist" data-gist-id="c9007ca307345eeff771" data-gist-file="librarydata_explanation.txt" data-gist-show-spinner="true"></div>

<p>The <em>library name</em> will be displayed as an URL to the <em>library url</em> as you could see in the previous section's printouts. The <em>demo command</em> will be displayed as an URL too, but itt will call the <em>demo command</em> on click. In this way it needs no effort by the user to try the just-installed new functionality.</p>

<h4>3. Put your own library into the <em>library</em> folder</h4>

<p>Make sure you put your library <strong>into</strong> the <em>library</em> folder. Do not rename the <em>library</em> folder otherwise the install and uninstall scripts won't work properly.</p>

<h4>4. Done</h4>

<p>You have created your MLS package that is ready to ship!</p>

<h2>License</h2>

<p>This project is under the <strong>MIT license</strong>.</p>

<p>Copyright (c) 2015 Tibor Simon</p>

<p>Permission is hereby granted, free of charge, to any person obtaining a copy
of this software and associated documentation files (the "Software"), to deal
in the Software without restriction, including without limitation the rights
to use, copy, modify, merge, publish, distribute, sublicense, and/or sell
copies of the Software, and to permit persons to whom the Software is
furnished to do so, subject to the following conditions:</p>

<p>The above copyright notice and this permission notice shall be included in
all copies or substantial portions of the Software.</p>

<p>THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,
OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN
THE SOFTWARE.</p>
<div class="footnotes">
<hr/>
<ol>
<li id="fn:1">
<p>Have you ever downloaded a piece of third party MATLAB code and have you tried to use it? If you have, you probably know that it is a headache.. Managing third party libraries in MATLAB is not a trivial. The code only works if you are in the same folder, or you have to add  it manually every time you start MATLAB, because adding something to your path is not meant to be in your path unless you have saved the path.<a href="#fnref:1" rev="footnote">&#8617;</a></p></li>
</ol>
</div>
<!-- =======================================================================================================================
   D O C   E N D
======================================================================================================================== -->  
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</body>
</html>


<!--title: TSPR000001
subtitle: MATLAB Library System
tags: matlab
Date: 2015-06-02
Slug: projects/TSPR000001

Have you ever became angry due to the path handling in MATLAB. If you do, this project could be interesting for you. 

__MATLAB Library System__ is a library handling module that makes shipment and adding/removing MATLAB scripts and functions convenient for you and your customers.


# Using the system

## Manual way

1. Create a new folder that will be the root folder of your project.
1. Copy the content of this repository into that folder.
1. Edit the library name if you want _(see details later)_.
1. Copy your project into the `library` folder.
1. Done. Your project is ready to ship.
1. You can test your library by running the `install.m` script.

## Command line way

1. Clone this repository to your system:<br />
   `git clone git@github.com:tiborsimon/MATLAB-Library-System.git my_library`<br />
   You can edit the folder name according to your needs.
1. Edit the library name if you want _(see details later)_.
1. Copy your project into the `library` folder.
1. Done. Your project is ready to ship.
1. You can test your library by running the `install.m` script.

# Folder structure

__MATLAB Library System__ has got a simple folder structure.

<script src="https://gist.github.com/tiborsimon/aa4f1fa04736459a6018.js"></script>

# Modifying the library properties

There are three library properties you can edit in the `my_library/librarydata.txt` file indexed by the rows of the file:

1. Library name
2. Library version
3. Message to the user after installation _(optional)_

Further lines will be ignored.

The default `librarydata.txt` file looks like this:

<script src="https://gist.github.com/tiborsimon/9a3c197ad4ade3347afa.js"></script>

These settings will produce the following output during installation.

<script src="https://gist.github.com/tiborsimon/bb6435be20fc9fa765d1.js"></script>

# Possible use case

You can put your every project into a __MATLAB Library System__ so you can manage them separately by installing or uninstalling them on demand. You can ship your projects to others in a nice and isolated way too. No more hassle with the MATLAB path. Your customer just runs the install script and your project is ready to use. 

_Less friction in the customer side equals happier customers :)_

# Summary

__MATLAB Library System__ provides you a clean solution for writing libraries in MATLAB. You can install and uninstall them, and you can also create an easy to ship package as well. Do you think it is useful for you? Discuss it below!

{% include repo_and_release.html %}
-->



